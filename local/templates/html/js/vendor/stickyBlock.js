!function(e){var p,s={init:function(t){var o=e(this),i=s.calculate.apply(this);p.debug&&(console.groupCollapsed("stickyBlock debug on init"),console.log("variables",i),console.log("plugin_settings",p),console.groupEnd()),o.offset()&&(o.css({width:i.stickWidth,height:i.stickHeight,zIndex:1,position:"relative"}),0==o.parent(".sticky-wrapper").length&&o.wrap('<div class="sticky-wrapper"></div>'),o.parent(".sticky-wrapper").css({width:i.stickWidth,position:"absolute",height:i.stickyContainerHeight,top:0,left:0}),0==o.closest(".sticky-dummy").length&&(o.parent().wrap('<div class="sticky-dummy"></div>'),o.closest(".sticky-dummy").css({width:i.stickWidth,height:i.stickHeight,position:"relative"})),e(window).scroll(function(){var t=e(window).scrollTop();i.stopPoint<t?o.css({position:"absolute",top:"auto",bottom:0}):t<i.startPoint?o.css({position:"absolute",top:0,bottom:"auto"}):o.css({position:"fixed",top:i.stickOffsetTop,bottom:"auto"}),p.debug&&(console.groupCollapsed("stickyBlock debug on scroll"),console.log(o,"element",t+i.stickOffsetTop,"start-stick"),console.log(t,"windowTop,",i.stickOffsetTop,"stickOffsetTop,",i.stickyTop,"stickyTop,",i.stopPoint,"stopPoint,",i.startPoint,"startPoint"),console.groupEnd())}))},reinit:function(t){s.init.apply(this)},calculate:function(t){var o=e(this),i=e(p.stopper),s={$stickyrStopper:i,stickOffsetTop:p.offsetTop,stickOffsetBottom:p.offsetBottom,stickWidth:o.outerWidth(),stickHeight:o.outerHeight(),stickyStopperHeight:i.outerHeight(),stickyTop:o.offset().top,stickyStopperPosition:i.offset().top};return s.stickyStopperFull=s.stickyStopperPosition+s.stickyStopperHeight,s.stickFull=s.stickHeight+s.stickOffsetTop,s.startPoint=s.stickyTop-s.stickOffsetTop,s.stopPoint=s.stickyStopperFull-s.stickFull-s.stickOffsetBottom,s.stickyContainerHeight=s.stickyStopperFull-s.stickyTop-s.stickOffsetBottom,"top"==p.endPoint&&(s.stopPoint=s.stickyStopperPosition-s.stickFull-s.stickOffsetBottom,s.stickyContainerHeight=s.stickyStopperPosition-s.stickyTop-s.stickOffsetBottom),s}};e.fn.stickyBlock=function(t,o){return p=e.extend({stopper:this.data("stopper")?""+this.data("stopper"):this.parent(),offsetTop:this.data("offset-top")?this.data("offset-top"):0,offsetBottom:this.data("offset-bottom")?this.data("offset-bottom"):0,endPoint:this.data("end-point")?this.data("end-point"):"bottom",debug:!!this.data("debug")&&this.data("debug")},o),this.each(function(){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("The method "+t+" is not in the plugin"):s.init.apply(this,arguments)})}}(jQuery);